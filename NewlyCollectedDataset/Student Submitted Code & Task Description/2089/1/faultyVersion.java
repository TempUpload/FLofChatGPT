import java.text.SimpleDateFormat;import java.util.Scanner;public class Main {    static Scanner sc = new Scanner(System.in);    public static void main(String[] args) {        int t = sc.nextInt();        while(t-- > 0){            int m = sc.nextInt();            int n = sc.nextInt();            int[] p = new int[n+1];            int[] h = new int[n+1];            int[] c = new int[n+1];            for(int i = 1; i <= n; i++){                p[i] = sc.nextInt();                h[i] = sc.nextInt();                c[i] = sc.nextInt();            }            int[][] help = new int[n+1][m+1];            for(int i = 1; i <= n; i++){                for(int j = 1; j <= m; j++){                    help[i][j] = help[i-1][j];                    for(int k = 1; k < c[i] && k * p[i] <= j; k++){                        help[i][j] = Math.max(help[i][j],help[i-1][j-k*p[i]] + k * h[i]);                    }                }            }    		System.out.println(help[n][m]);        }    }}